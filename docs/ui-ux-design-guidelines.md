# UI/UX 设计规范

## 1. 设计理念与原则

### 1.1 产品设计理念

我们的碳足迹量化平台旨在构建一个**直观易用**且**专业可靠**的数据分析工具，帮助企业高效管理产品碳足迹数据。设计理念基于以下核心价值：

- **数据驱动决策**: 以清晰的数据可视化和洞察为核心，支持企业做出可持续发展决策
- **专业与信任**: 通过专业的数据呈现和严谨的分析，建立用户对平台的信任
- **简洁高效**: 简化复杂任务，优化工作流程，减少用户操作步骤
- **一致性体验**: 在视觉和交互上保持一致，降低学习成本，提升用户体验

### 1.2 设计原则

#### 可视化层次（Visual Hierarchy）

- 利用色彩、尺寸和分组突出重要信息
- 使用卡片、阴影和空间营造内容层次
- 通过视觉对比引导用户关注重点数据
- 信息布局遵循从上到下、从左到右的阅读习惯

#### 简洁专注（Clarity and Focus）

- 减少UI噪音，突出核心数据和操作
- 一个界面专注于解决一个主要问题
- 精简视觉元素，避免过度装饰
- 使用直白的语言和专业术语

#### 指导性与反馈（Guidance and Feedback）

- 通过视觉提示引导用户下一步操作
- 所有交互提供即时、明确的反馈
- 错误状态提供清晰的解决方案
- 任务流程中提供进度指示

#### 碳足迹专业性（Carbon Domain Expertise）

- 数据可视化符合碳管理领域专业标准
- 术语使用符合行业规范
- 度量单位和计算方法保持专业准确
- 设计元素呼应可持续发展主题

## 2. 设计系统与组件库

### 2.1 设计系统架构

我们的设计系统基于原子设计（Atomic Design）方法论构建，包含以下层级：

```
┌────────────────────────┐
│     设计系统层级        │
├────────────┬───────────┤
│  原子级    │ 颜色、字体、间距、阴影 │
├────────────┼───────────┤
│  分子级    │ 按钮、输入框、标签、图标 │
├────────────┼───────────┤
│  组织级    │ 表单、卡片、导航、对话框 │
├────────────┼───────────┤
│  模板级    │ 页面布局、网格系统     │
├────────────┼───────────┤
│  页面级    │ 完整页面实例         │
└────────────┴───────────┘
```

### 2.2 核心组件库

核心组件按功能类别组织：

#### 导航组件

- 顶部导航栏
- 侧边菜单
- 面包屑导航
- 标签页导航
- 步骤导航

#### 信息展示组件

- 数据表格
- 数据卡片
- 统计数字
- 图表组件
- 数据流程图
- 数据对比组件

#### 表单控件

- 文本输入框
- 下拉选择器
- 单选/复选框
- 日期选择器
- 滑块
- 文件上传
- 搜索框

#### 反馈组件

- 通知提示
- 对话框
- 进度指示器
- 结果状态
- 气泡提示

#### 操作组件

- 按钮系列
- 动作菜单
- 批量操作栏
- 拖拽控件

### 2.3 组件设计规范

每个组件需符合以下设计规范：

#### 组件变体系统

- **类型变体**: 基于功能目的（主要、次要、文本、链接等）
- **状态变体**: 默认、悬停、点击、禁用、加载中、错误等
- **尺寸变体**: 大、中、小、迷你（在适用情况下）
- **主题变体**: 亮色、暗色（如适用）

#### 组件文档结构

每个组件文档应包含：

- 用途说明
- 使用场景
- 属性和配置选项
- 变体示例
- 交互规则
- 无障碍考虑
- 代码示例

## 3. 视觉设计规范

### 3.1 色彩系统

#### 主色调

以可持续发展为主题，采用绿色系为主色：

| 色彩名称 | 色值    | 使用场景           |
| -------- | ------- | ------------------ |
| 品牌绿   | #2E7D32 | 品牌标识、主按钮   |
| 暗绿     | #1B5E20 | 悬停状态、强调文本 |
| 亮绿     | #4CAF50 | 成功状态、正向指标 |
| 青绿     | #00897B | 辅助色、图表配色   |

#### 中性色

| 色彩名称 | 色值    | 使用场景     |
| -------- | ------- | ------------ |
| 深灰     | #212121 | 主文本       |
| 中灰     | #757575 | 次要文本     |
| 浅灰     | #BDBDBD | 边框、分割线 |
| 背景灰   | #F5F5F5 | 背景、卡片   |
| 纯白     | #FFFFFF | 组件背景     |

#### 功能色

| 色彩名称 | 色值    | 使用场景           |
| -------- | ------- | ------------------ |
| 信息蓝   | #1976D2 | 信息提示、链接     |
| 警告黄   | #FFA000 | 警告提示、注意事项 |
| 错误红   | #D32F2F | 错误提示、删除操作 |
| 成功绿   | #388E3C | 成功提示、完成状态 |

#### 图表色板

精心设计的10色图表配色，确保数据可视化的清晰区分：

| 色彩名 | 色值    | 色彩名   | 色值    |
| ------ | ------- | -------- | ------- |
| 图表绿 | #4CAF50 | 图表紫   | #9C27B0 |
| 图表蓝 | #2196F3 | 图表粉   | #E91E63 |
| 图表青 | #00BCD4 | 图表棕   | #795548 |
| 图表橙 | #FF9800 | 图表灰   | #9E9E9E |
| 图表黄 | #FFEB3B | 图表青绿 | #009688 |

### 3.2 字体系统

#### 字体家族

- **主标题**: Roboto / 思源黑体
- **正文**: Roboto / 思源黑体
- **代码/数据**: Roboto Mono / 等宽黑体

#### 字体大小与行高

| 类别     | 字体大小 | 行高 | 字重 | 使用场景   |
| -------- | -------- | ---- | ---- | ---------- |
| 大标题   | 28px     | 36px | 500  | 页面主标题 |
| 中标题   | 22px     | 28px | 500  | 区块标题   |
| 小标题   | 18px     | 24px | 500  | 卡片标题   |
| 正文大   | 16px     | 24px | 400  | 重要内容   |
| 正文标准 | 14px     | 22px | 400  | 一般内容   |
| 正文小   | 12px     | 18px | 400  | 辅助信息   |
| 微型文本 | 10px     | 14px | 400  | 标签、徽章 |

#### 字重使用规范

- **常规 (400)**: 正文、描述文本
- **中等 (500)**: 标题、强调文本
- **粗体 (700)**: 特别强调、按钮文本

### 3.3 图标系统

#### 图标风格

- 线条风格，2px线宽
- 圆角处理（2px圆角）
- 24×24px基础尺寸
- 简洁明了，减少细节

#### 图标分类

| 分类         | 用途               | 示例             |
| ------------ | ------------------ | ---------------- |
| 导航图标     | 菜单项、导航操作   | 首页、设置、返回 |
| 操作图标     | 用户交互操作       | 添加、删除、编辑 |
| 状态图标     | 表示系统或数据状态 | 成功、警告、错误 |
| 文件类型图标 | 表示不同文件类型   | PDF、Excel、图片 |
| 领域图标     | 碳足迹领域特定概念 | 工厂、产品、运输 |

#### 图标使用规范

- 保持足够的点击区域（至少44×44px）
- 保持风格一致性
- 优先使用标准图标集
- 确保图标含义明确或配合文字说明

### 3.4 间距与布局系统

#### 基础间距单位

基础单位：8px

| 间距名称 | 尺寸 | 使用场景         |
| -------- | ---- | ---------------- |
| 超小间距 | 4px  | 紧凑元素内间距   |
| 小间距   | 8px  | 相关元素间距     |
| 中间距   | 16px | 组件内部间距     |
| 大间距   | 24px | 组件之间间距     |
| 超大间距 | 32px | 区块之间间距     |
| 巨大间距 | 48px | 主要内容区块间距 |

#### 网格系统

- 基于12列网格布局
- 列宽动态适应
- 槽宽（列间距）：24px
- 页面边距：
  - 移动端：16px
  - 平板：24px
  - 桌面：32px以上

#### 响应式断点

| 断点名称 | 宽度范围      | 设备类型           |
| -------- | ------------- | ------------------ |
| xs       | <600px        | 小型手机           |
| sm       | 600px-960px   | 大型手机、小型平板 |
| md       | 960px-1280px  | 平板、小型显示器   |
| lg       | 1280px-1920px | 桌面显示器         |
| xl       | >1920px       | 大型显示器         |

### 3.5 阴影与高度系统

运用阴影表达界面元素的层级关系:

| 高度级别 | 阴影参数                      | 使用场景           |
| -------- | ----------------------------- | ------------------ |
| 高度0    | 无阴影                        | 背景元素、禁用状态 |
| 高度1    | 0px 2px 4px rgba(0,0,0,0.1)   | 卡片、按钮         |
| 高度2    | 0px 4px 8px rgba(0,0,0,0.1)   | 下拉菜单、提示框   |
| 高度3    | 0px 8px 16px rgba(0,0,0,0.1)  | 模态框、抽屉       |
| 高度4    | 0px 16px 24px rgba(0,0,0,0.1) | 对话框             |

## 4. 交互设计规范

### 4.1 导航模式

#### 整体导航结构

```
┌──────────────────────────────────────┐
│              顶部导航栏               │
├──────────┬───────────────────────────┤
│          │                           │
│  侧边导航 │          主内容区域        │
│   菜单   │                           │
│          │                           │
├──────────┴───────────────────────────┤
│                页脚                   │
└──────────────────────────────────────┘
```

#### 导航层级

- **一级导航**（侧边菜单主项）：核心功能模块

  - 数据管理
  - 碳足迹计算
  - 分析报告
  - AI洞察
  - 系统设置

- **二级导航**（侧边菜单子项）：模块内功能分组

  - 示例：数据管理 > 产品数据、排放因子、活动数据

- **三级导航**（页面内导航）：通过页签、面包屑等

#### 导航交互规则

- 当前页面在导航中高亮显示
- 展开/折叠侧边菜单的切换
- 记住用户上次访问的页面
- 支持通过面包屑快速回到上级页面
- 移动端自动折叠导航菜单

### 4.2 页面布局模式

#### 仪表盘布局

```
┌───────────────────────────────────────┐
│ 标题 + 筛选器                          │
├───────┬───────┬───────────────────────┤
│ 卡片1  │ 卡片2 │ 卡片3                 │
├───────┴───────┴───────────────────────┤
│                                       │
│ 主数据可视化区域                        │
│                                       │
├───────────────┬───────────────────────┤
│ 数据表格/列表   │ 辅助图表               │
│                │                      │
└───────────────┴───────────────────────┘
```

#### 数据管理布局

```
┌───────────────────────────────────────┐
│ 标题 + 搜索 + 筛选 + 操作按钮            │
├───────────────────────────────────────┤
│                                       │
│ 数据表格/列表                           │
│                                       │
├───────────────────────────────────────┤
│ 分页控件                               │
└───────────────────────────────────────┘
```

#### 详情页布局

```
┌───────────────────────────────────────┐
│ 标题 + 返回 + 操作按钮                  │
├───────────────────────────────────────┤
│ 基本信息卡片                           │
├───────────────────────────────────────┤
│                                       │
│ 标签页导航                             │
│                                       │
├───────────────────────────────────────┤
│                                       │
│ 当前标签页内容                          │
│                                       │
└───────────────────────────────────────┘
```

### 4.3 操作反馈模式

#### 即时反馈

- 按钮点击效果
- 表单控件状态变化
- 加载状态指示
- 悬停提示

#### 操作结果反馈

- 成功/失败提示条
- 完成状态页面
- 进度指示器
- 错误信息展示

#### 反馈层级

| 重要性级别 | 反馈方式     | 使用场景               |
| ---------- | ------------ | ---------------------- |
| 低重要度   | 静默更新界面 | 自动保存、微小变化     |
| 中重要度   | 轻量提示条   | 操作成功、非阻断错误   |
| 高重要度   | 模态对话框   | 重要操作确认、严重错误 |
| 全局重要度 | 页面级反馈   | 操作结果页、系统状态   |

### 4.4 表单设计规范

#### 表单布局模式

- **单列布局**: 表单项垂直排列，适用于简单表单
- **双列布局**: 表单项分两列排列，适用于信息密集表单
- **分组布局**: 表单项按逻辑分组，适用于复杂表单
- **内联布局**: 表单项水平排列，适用于简单筛选条件

#### 表单交互规则

- 实时验证输入内容
- 清晰的错误提示
- 智能默认值
- 自动保存草稿
- 提交前确认重要表单

#### 智能表单功能

- AI辅助输入补全
- 智能推荐默认值
- 数据智能校验
- 基于历史数据的输入建议

### 4.5 数据可视化规范

#### 图表类型选择指南

| 数据关系   | 推荐图表类型         | 适用场景              |
| ---------- | -------------------- | --------------------- |
| 部分与整体 | 饼图、环形图、树形图 | 碳排放构成分析        |
| 时间趋势   | 折线图、面积图       | 排放趋势分析          |
| 类别比较   | 柱状图、条形图       | 不同产品/工厂排放对比 |
| 相关性分析 | 散点图、热力图       | 生产量与排放关系      |
| 地理分布   | 地图、气泡地图       | 供应链排放分布        |

#### 数据可视化原则

- 保持图表简洁，避免过度装饰
- 确保数据准确无歧义
- 使用一致的色彩编码
- 提供适当的交互（悬停提示、缩放等）
- 支持多维数据的钻取和过滤

#### 复杂数据展示策略

- 使用小倍数图表（small multiples）
- 支持数据筛选和切片
- 提供多视图协同分析
- 实现图表与表格的联动

### 4.6 无障碍设计

#### 基本无障碍原则

- 符合WCAG 2.1 AA级标准
- 支持键盘导航
- 适当的颜色对比度
- 提供替代文本
- 支持屏幕阅读器

#### 具体实现要求

- 所有交互元素可通过键盘访问
- 颜色对比度符合4.5:1标准
- 图形和图表提供替代描述
- 表单字段有明确标签
- 动态内容变化会通知屏幕阅读器

## 5. 布局系统

### 5.1 网格系统

采用24列栅格系统，灵活适应不同屏幕尺寸：

```jsx
<Row gutter={16}>
  <Col span={6}>{/* 卡片内容 */}</Col>
  <Col span={6}>{/* 卡片内容 */}</Col>
  <Col span={6}>{/* 卡片内容 */}</Col>
  <Col span={6}>{/* 卡片内容 */}</Col>
</Row>
```

栅格设计规则：

- 使用16px或24px的栅格间距
- 桌面端通常使用4/6/8/12列布局
- 平板端通常使用2/3/4列布局
- 移动端通常使用1/2列布局
- 兄弟元素使用一致的高度

### 5.2 布局模板

#### 5.2.1 仪表盘布局

用于数据概览和关键指标展示：

```
┌────────────────────────────────────────┐
│ 公司概况卡片                            │
├────────────────────────────────────────┤
│ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ │
│ │ 统计卡片1 │ │ 统计卡片2 │ │ 统计卡片3 │ │ 统计卡片4 │ │
│ └─────────┘ └─────────┘ └─────────┘ └─────────┘ │
├─────────────────────┬──────────────────────┤
│ │                   │                      │
│ │  趋势图表         │   对标分析图表        │
│ │                   │                      │
│ │                   │                      │
├─────────────────────┴──────────────────────┤
│ ┌────────────────────────────────────────┐ │
│ │ 任务列表（标签页切换不同类型）           │ │
│ │                                         │ │
│ │                                         │ │
│ └────────────────────────────────────────┘ │
└────────────────────────────────────────────┘
```

仪表盘设计原则：

- 最重要的信息置于顶部
- 统计数字卡片横向排列便于对比
- 相关数据和图表并列展示
- 操作任务列表置于底部便于访问
- 支持内容的折叠/展开以节省空间

#### 5.2.2 数据管理布局

用于数据列表和详情展示：

```
┌────────────────────────────────────────┐
│ 标题 + 过滤器 + 操作按钮                 │
├────────────────────────────────────────┤
│                                        │
│ 数据表格/列表                           │
│                                        │
│                                        │
│                                        │
├────────────────────────────────────────┤
│ 分页控件                               │
└────────────────────────────────────────┘
```

数据管理页面设计原则：

- 顶部放置过滤器和主要操作按钮
- 表格/列表占据主要内容区域
- 表格支持排序、筛选和分页
- 行操作放置在每行的右侧
- 批量操作放置在表格上方

#### 5.2.3 详情页布局

用于展示单个实体的详细信息：

```
┌────────────────────────────────────────┐
│ 返回 + 标题 + 操作按钮                  │
├────────────────────────────────────────┤
│ 基本信息卡片                            │
├────────────────────────────────────────┤
│ 标签页导航                              │
├────────────────────────────────────────┤
│                                        │
│ 当前标签页内容                          │
│                                        │
│                                        │
└────────────────────────────────────────┘
```

详情页设计原则：

- 顶部提供返回路径和主要操作
- 基本信息卡片概览核心属性
- 使用标签页组织不同类别的详细信息
- 相关联的实体以卡片或列表形式展示
- 编辑操作可使用内联表单或模态框

### 5.3 响应式设计规则

针对不同屏幕尺寸的适配策略：

```css
/* 响应式调整 */
@media (max-width: 768px) {
  .dashboard-sider {
    position: fixed;
    left: 0;
    top: 64px;
    bottom: 0;
    z-index: 1000;
    transform: translateX(-100%);
    transition: transform 0.3s;
  }

  .dashboard-sider.show {
    transform: translateX(0);
  }

  .dashboard-content {
    padding: 16px;
  }
}
```

响应式设计原则：

- 移动端优先考虑核心功能和内容
- 导航在移动端转为可折叠菜单
- 多列布局在小屏幕上转为单列
- 表格在移动端转为卡片列表
- 调整交互元素尺寸适应触摸操作
- 复杂操作可拆分为多步骤向导

## 6. 交互设计模式

### 6.1 数据加载与空状态

内容加载状态的处理方式：

- **加载中状态**：使用与主题协调的骨架屏或加载动画
- **空状态**：提供友好的空状态提示和初始化操作
- **错误状态**：明确的错误提示和恢复/重试选项
- **部分加载**：优先加载关键内容，其他内容异步加载

### 6.2 任务流设计

复杂任务的流程设计原则：

- 将复杂任务分解为清晰的步骤
- 提供明确的进度指示
- 每步仅请求必要的信息
- 支持保存草稿和恢复操作
- 预览和确认重要操作
- 完成后提供明确的成功反馈和后续操作

### 6.3 数据筛选与查询

数据查询和筛选的交互模式：

- 常用筛选条件保持可见
- 高级筛选选项可折叠或通过模态框展示
- 筛选结果即时更新
- 保存和重用常用筛选条件
- 支持关键词搜索与条件筛选组合
- 清晰展示当前生效的筛选条件

### 6.4 数据编辑模式

数据编辑的交互模式：

- **内联编辑**：直接在表格或卡片中编辑简单字段
- **抽屉式表单**：从屏幕侧边滑出的表单，不离开当前上下文
- **模态表单**：聚焦于当前任务的模态框表单
- **页面表单**：复杂数据编辑使用独立页面
- **批量编辑**：支持多选和批量操作的表格

## 7. 动效设计

### 7.1 过渡动效

界面状态变化的动效设计：

```css
.carbon-card {
  transition: all 0.3s ease;
}

.carbon-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}
```

过渡动效原则：

- 动效时长通常为200-300ms
- 使用自然的缓动函数（ease, ease-in-out）
- 相关元素使用协调的动效
- 状态变化提供适当的视觉反馈
- 避免过度使用动效造成干扰

### 7.2 反馈动效

用户交互的反馈动效：

- **按钮点击**：轻微缩放或下沉效果
- **卡片悬停**：轻微上浮和阴影增强
- **表单提交**：加载动画和成功动效
- **数据更新**：柔和的高亮或淡入淡出效果
- **错误反馈**：抖动或闪烁提示

动效适用场景：

- 引导用户注意力
- 提供操作反馈
- 暗示界面层级关系
- 减轻等待焦虑
- 提升品牌体验

## 8. 无障碍设计

### 8.1 基本原则

确保产品对不同能力用户的可访问性：

- 符合WCAG 2.1 AA级标准
- 键盘可操作性
- 屏幕阅读器兼容性
- 充分的色彩对比度
- 可调整文本大小
- 避免依赖单一感官的交互

### 8.2 实现要点

无障碍设计的具体实现：

- 所有表单控件使用适当的标签
- 非文本内容提供替代文本
- 颜色对比度达到4.5:1以上
- 交互元素的焦点状态清晰可见
- 重要操作不仅依赖颜色提示
- 动态内容变化通知屏幕阅读器

## 9. 实现指南与资源

### 9.1 代码实现

基于Ant Design组件库的定制实现：

```jsx
// 示例：定制主题色
const theme = {
  token: {
    colorPrimary: '#2E7D32',
    colorSuccess: '#388E3C',
    colorWarning: '#FFA000',
    colorError: '#D32F2F',
    colorInfo: '#1976D2',
    borderRadius: 8,
  },
};

// 在应用中使用主题
<ConfigProvider theme={theme}>
  <App />
</ConfigProvider>;
```

### 9.2 设计资源

设计和开发资源：

- Figma组件库和设计系统
- CSS变量和设计令牌文档
- 组件使用指南和示例
- 响应式设计模板
- 可访问性检查清单
- 用户体验测试方案

## 10. 附录：UI审核清单

### 10.1 视觉一致性

- [ ] 色彩使用符合品牌规范
- [ ] 字体层级统一且易读
- [ ] 组件样式和交互一致
- [ ] 间距和对齐规范统一
- [ ] 图标风格协调统一

### 10.2 功能可用性

- [ ] 所有功能有明确入口
- [ ] 关键任务流程顺畅
- [ ] 数据加载状态和错误处理完善
- [ ] 提供适当的默认值和示例
- [ ] 操作有清晰的反馈和确认

### 10.3 响应式设计

- [ ] 界面能适应不同屏幕尺寸
- [ ] 触摸设备有足够的点击区域
- [ ] 内容优先级在小屏合理调整
- [ ] 加载性能在移动设备上优化
- [ ] 确保关键功能在各平台可用

### 10.4 可访问性

- [ ] 颜色对比度符合标准
- [ ] 提供键盘导航支持
- [ ] 表单和控件有适当标签
- [ ] 非文本内容有替代说明
- [ ] 支持文本大小调整
